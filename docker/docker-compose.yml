# Termix Docker Compose Configuration
#
# QUICK START: Just run "docker-compose up -d"
# - Security keys are auto-generated on first startup
# - Keys are persisted in Docker volumes (survive container restarts)
# - No manual .env file needed for single-instance deployment
#
# See docker/.env.example for advanced configuration options

services:
  termix-dev:
    image: ghcr.io/lukegus/termix:dev-1.7.0
    container_name: termix-dev
    restart: unless-stopped
    ports:
      - "4300:4300"
      - "8443:8443"
    volumes:
      - termix-dev-data:/app/data
    environment:
      PORT: "4300"
      ENABLE_SSL: "true"
      SSL_DOMAIN: "termix-dev.karmaa.site"
    # Resource limits for better large file handling
    deploy:
      resources:
        limits:
          memory: 2G
          cpus: '1.0'
        reservations:
          memory: 512M
          cpus: '0.5'

volumes:
  termix-dev-data:
    driver: local
